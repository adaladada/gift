<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册页面</title>
    <style>
        .decoration{
            text-align: center;
        }
    </style>
    <link rel="shortcut icon" type="image/ico" href="/favicon.ico" />
    <script>
        function register() {
    var BaseURL='http://8.129.238.142:8000';
    var postRequest=new XMLHttpRequest();
    postRequest.open("POST",BaseURL+'/user')
    var username=document.getElementById('username').value;
    var password=document.getElementById('password').value;
    var sex=document.getElementById('sex').value;
    var nickname=document.getElementById('nickname').value;
    var postData="username="+username+"&password="+password+"&sex="+sex+"&nickname="+nickname;
    if(username.value.length==0 || password.value.length==0 || sex.value.length==0 || nickname.value.length==0) {
        confirm("有空没填");
        return;
    }
    postRequest.setRequestHeader("Content-type","application/json")
    postRequest.send(postData)
    postRequest.onreadystatechange=function(){
        if(postRequest.readyState==4){
            if(postRequest.status==200){
                window.location.href="留言板页面.html";
            }
            else{
                confirm(postRequest.responseText)
            }
        }
    }
}
    </script>
</head>
<body>
    <label for="username">用户名：</label>
    <input type="text" id="username" placeholder="用户名"><br><br>
    <label for="password">密码：</label>
    <form>
    <input type="password" id="password" placeholder="密码"><br><br>
    </form>
    <label for="sex">性别：</label>
    <input type="text" id="sex" placeholder="性别"><br><br>
    <label for="nickname">昵称：</label>
    <input type="text" id="nickname" placeholder="昵称"><br><br>
    <button onclick="register()">注册</button>
</body>
</html>
